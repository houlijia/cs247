<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T54U3">rout</span>] = Nimresize( <span class="var type1" id="S3T1U6">A</span>, <span class="var type1" id="S4T5U7">m</span> )</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%IMRESIZE Resize image.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3">  3</a></span><span class="line"><span class="comment">% LDL : 744x990</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%   B = IMRESIZE(A,M,'method') returns an image matrix that is </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5">  5</a></span><span class="line"><span class="comment">%   M times larger (or smaller) than the image A.  The image B</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6">  6</a></span><span class="line"><span class="comment">%   is computed by interpolating using the method in the string</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7">  7</a></span><span class="line"><span class="comment">%   'method'.  Possible methods are 'nearest' (nearest neighbor),</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8">  8</a></span><span class="line"><span class="comment">%   'bilinear' (binlinear interpolation), or 'bicubic' (bicubic </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9">  9</a></span><span class="line"><span class="comment">%   interpolation). B = IMRESIZE(A,M) uses 'nearest' as the </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10"> 10</a></span><span class="line"><span class="comment">%   default interpolation scheme.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11"> 11</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12"> 12</a></span><span class="line"><span class="comment">%   B = IMRESIZE(A,[MROWS NCOLS],'method') returns a matrix of </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13"> 13</a></span><span class="line"><span class="comment">%   size MROWS-by-NCOLS.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14"> 14</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15"> 15</a></span><span class="line"><span class="comment">%   RGB1 = IMRESIZE(RGB,<span class="keyword">...</span><span class="comment">) resizes the RGB truecolor image </span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16"> 16</a></span><span class="line"><span class="comment">%   stored in the 3-D array RGB, and returns a 3-D array (RGB1).</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17"> 17</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18"> 18</a></span><span class="line"><span class="comment">%   When the image size is being reduced, IMRESIZE lowpass filters</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19"> 19</a></span><span class="line"><span class="comment">%   the image before interpolating to avoid aliasing. By default,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20"> 20</a></span><span class="line"><span class="comment">%   this filter is designed using FIR1, but can be specified </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21"> 21</a></span><span class="line"><span class="comment">%   using IMRESIZE(<span class="keyword">...</span><span class="comment">,'method',H).  The default filter is 11-by-11.</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22"> 22</a></span><span class="line"><span class="comment">%   IMRESIZE(<span class="keyword">...</span><span class="comment">,'method',N) uses an N-by-N filter.</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23"> 23</a></span><span class="line"><span class="comment">%   IMRESIZE(<span class="keyword">...</span><span class="comment">,'method',0) turns off the filtering.</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24"> 24</a></span><span class="line"><span class="comment">%   Unless a filter H is specified, IMRESIZE will not filter</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25"> 25</a></span><span class="line"><span class="comment">%   when 'nearest' is used.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26"> 26</a></span><span class="line"><span class="comment">%   </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27"> 27</a></span><span class="line"><span class="comment">%   See also IMZOOM, FIR1, INTERP2.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28"> 28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29"> 29</a></span><span class="line"><span class="comment">%   Grandfathered Syntaxes:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30"> 30</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31"> 31</a></span><span class="line"><span class="comment">%   [R1,G1,B1] = IMRESIZE(R,G,B,M,'method') or </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32"> 32</a></span><span class="line"><span class="comment">%   [R1,G1,B1] = IMRESIZE(R,G,B,[MROWS NCOLS],'method') resizes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33"> 33</a></span><span class="line"><span class="comment">%   the RGB image in the matrices R,G,B.  'bilinear' is the</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34"> 34</a></span><span class="line"><span class="comment">%   default interpolation method.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35"> 35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36"> 36</a></span><span class="line"><span class="comment">%   Clay M. Thompson 7-7-92</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37"> 37</a></span><span class="line"><span class="comment">%   Copyright (c) 1992 by The MathWorks, Inc.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38"> 38</a></span><span class="line"><span class="comment">%   $Revision: 5.4 $  $Date: 1996/10/16 20:33:27 $</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39"> 39</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40"> 40</a></span><span class="line"><span class="comment">%[A,m,method,classIn,h] = parse_inputs(varargin{:});</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41"> 41</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42"> 42</a></span><span class="line"><span class="mxinfo " id="T3:U4"><span class="var type1" id="S3T3U10">A</span> = <span class="mxinfo " id="T3:U6"><span class="mxinfo " id="T3:U7">double(<span class="var type1" id="S3T1U14">A</span>)</span>/<span class="mxinfo " id="T2:U9">255</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43"> 43</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44"> 44</a></span><span class="line"><span class="mxinfo " id="T6:U10"><span class="var type1" id="S6T6U18">method</span>=<span class="mxinfo " id="T6:U12"><span class="string">'bic'</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45"> 45</a></span><span class="line"><span class="mxinfo " id="T22:U13"><span class="var type1" id="S7T22U22">classIn</span>=<span class="mxinfo " id="T22:U15"><span class="string">'uint8'</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46"> 46</a></span><span class="line"><span class="mxinfo " id="T7:U16"><span class="var type1" id="S8T7U26">h</span>=<span class="mxinfo " id="T7:U18">[]</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47"> 47</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48"> 48</a></span><span class="line"><span class="mxinfo " id="T4:U19"><span class="var type1" id="S9T4U31">threeD</span> = (<span class="mxinfo " id="T4:U21"><span class="mxinfo " id="T2:U22">ndims(<span class="var type1" id="S3T3U36">A</span>)</span>==<span class="mxinfo " id="T2:U24">3</span></span>)</span>; <span class="comment">% Determine if input includes a 3-D array</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49"> 49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50"> 50</a></span><span class="line"><span class="comment">%if threeD,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51"> 51</a></span><span class="line">   <span class="mxinfo " id="T40:U25"><span class="var type1" id="S11T40U40">r</span> = <span class="mxinfo " id="T40:U27"><span class="fcn" id="F503N3:B42">resizeImage</span>(<span class="mxinfo " id="T17:U28"><span class="var type1" id="S3T3U44">A</span>(<span class="mxinfo " id="T61:U30">:</span>,<span class="mxinfo " id="T62:U31">:</span>,<span class="mxinfo " id="T10:U32">1</span>)</span>,<span class="var type1" id="S4T5U48">m</span>,<span class="var type1" id="S6T6U49">method</span>,<span class="var type1" id="S8T7U50">h</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,52" id="srcline52"> 52</a></span><span class="line">   <span class="mxinfo " id="T40:U36"><span class="var type1" id="S13T40U53">g</span> = <span class="mxinfo " id="T40:U38"><span class="fcn" id="F503N3:B55">resizeImage</span>(<span class="mxinfo " id="T17:U39"><span class="var type1" id="S3T3U57">A</span>(<span class="mxinfo " id="T61:U41">:</span>,<span class="mxinfo " id="T62:U42">:</span>,<span class="mxinfo " id="T10:U43">2</span>)</span>,<span class="var type1" id="S4T5U61">m</span>,<span class="var type1" id="S6T6U62">method</span>,<span class="var type1" id="S8T7U63">h</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,53" id="srcline53"> 53</a></span><span class="line">   <span class="mxinfo " id="T40:U47"><span class="var type1" id="S14T40U66">b</span> = <span class="mxinfo " id="T40:U49"><span class="fcn" id="F503N3:B68">resizeImage</span>(<span class="mxinfo " id="T17:U50"><span class="var type1" id="S3T3U70">A</span>(<span class="mxinfo " id="T61:U52">:</span>,<span class="mxinfo " id="T62:U53">:</span>,<span class="mxinfo " id="T10:U54">3</span>)</span>,<span class="var type1" id="S4T5U74">m</span>,<span class="var type1" id="S6T6U75">method</span>,<span class="var type1" id="S8T7U76">h</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,54" id="srcline54"> 54</a></span><span class="line">   <span class="comment">%if nargout==0, </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,55" id="srcline55"> 55</a></span><span class="line">      <span class="comment">% LDL imshow(r,g,b);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56"> 56</a></span><span class="line">      <span class="comment">%return;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57"> 57</a></span><span class="line">   <span class="comment">%elseif nargout==1,</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58"> 58</a></span><span class="line">      <span class="comment">%if strcmp(classIn,'uint8');</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59"> 59</a></span><span class="line">         <span class="mxinfo " id="T54:U58"><span class="var type1" id="S2T54U79">rout</span> = <span class="mxinfo " id="T54:U60">repmat(uint8(0),<span class="mxinfo " id="T51:U61">[<span class="mxinfo " id="T5:U62">size(<span class="var type1" id="S11T40U89">r</span>)</span>,<span class="mxinfo " id="T2:U64">3</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60"> 60</a></span><span class="line">         <span class="mxinfo " id="T63:U65"><span class="mxinfo " id="T63:U66"><span class="var type1" id="S2T54U94">rout</span>(<span class="mxinfo " id="T64:U68">:</span>,<span class="mxinfo " id="T64:U69">:</span>,<span class="mxinfo " id="T2:U70">1</span>)</span> = <span class="mxinfo " id="T63:U71">uint8(<span class="mxinfo " id="T40:U72">round(<span class="mxinfo " id="T40:U73"><span class="var type1" id="S11T40U103">r</span>*<span class="mxinfo " id="T2:U75">255</span></span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61"> 61</a></span><span class="line">         <span class="mxinfo " id="T63:U76"><span class="mxinfo " id="T63:U77"><span class="var type1" id="S2T54U108">rout</span>(<span class="mxinfo " id="T64:U79">:</span>,<span class="mxinfo " id="T64:U80">:</span>,<span class="mxinfo " id="T2:U81">2</span>)</span> = <span class="mxinfo " id="T63:U82">uint8(<span class="mxinfo " id="T40:U83">round(<span class="mxinfo " id="T40:U84"><span class="var type1" id="S13T40U117">g</span>*<span class="mxinfo " id="T2:U86">255</span></span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62"> 62</a></span><span class="line">         <span class="mxinfo " id="T63:U87"><span class="mxinfo " id="T63:U88"><span class="var type1" id="S2T54U122">rout</span>(<span class="mxinfo " id="T64:U90">:</span>,<span class="mxinfo " id="T64:U91">:</span>,<span class="mxinfo " id="T2:U92">3</span>)</span> = <span class="mxinfo " id="T63:U93">uint8(<span class="mxinfo " id="T40:U94">round(<span class="mxinfo " id="T40:U95"><span class="var type1" id="S14T40U131">b</span>*<span class="mxinfo " id="T2:U97">255</span></span>)</span>)</span></span>;</span></span>
</pre>
